	Текстовое описание базы данных:

- В данном курсовом проекте описывается модель хранения данных
для сервиса дистанционного банковского обслуживания юридических лиц.

- За основу был взят сервис "Сбербанк Бизнес Онлайн", подобные сервисы
сейчас есть у каждого банка

- Задачи, решаемые базой:

- Хранение информации о счетах клиентов банка и операциях по этим счетам

- Предоставление клиентам информации по счетам

- Дистанционное совершение клиентами платежей
путем отправки в банк платежных поручений

- Предоставление сотрудникам банка информации о счетах и операциях по счетам, 
с целью улучшения качества обслуживания и предложения клиентам новых банковских продуктов

	Описание процесса разработки базы:
  Ниже привидено краткое описание процесса разработки базы, 
файлы скриптов также снабжены комментариями по ходу разработки  

  полный состав файлов, входящих в проект с описанием их содержимого в файле
"Состав проекта.txt"

 описание таблиц содержится в файле "пояснения к ER диаграмме" и в тексте скриптов в виде комментариев


  Так как конечным результатом проекта должны были стать корректные,
и правдоподобные банковские выписки, большая часть тестовых данных
генерировалась вручную, с использованием стандартных функций MYSQL 
и написанных специально для этого проекта процедур и функций.

  Для генерации правдоподобных регистрационных данных компаний
были созданы таблицы - аналоги открытых государственных реестров и справочников

Наш банк должен работать как с платежами клиентов,
так и с входящими оплатами от клиентов других банков, так что в справочники
были помещены следующие данные:
 

- Информация о 500 компаниях, только что открывшихся в 5 разных городах
- Инфтормация о 4 разных банках

Далее компании были распределены по банкам следующим образом:

- 200 Компаний стали клиентами нашего банка
- Остальные 300 разделились случайно между тремя другими банками

- Банком, который будет рассмотрен в проекте стал "Average Commercial Bank"

  Всем компаниям были открыты расчетные счета.
  Были созданы таблицы внутренних банковских справочников,
содержащие данные о клиентах, тарифах и служебную информацию для работы банков.
Клиенты внесли на свои счета случайные суммы денег, им были случайно назначены тарифы.

  После этого были сгенерированны 10000 платежных поручений.
Такое колличество было выбрано из следующих соображений:

- Период за которые планируется анализировать выписки - 1 месяц

- Мне хотелось, чтобы выписки были достаточно наполненными,
чтобы на 1 клиента приходилось 1-2 успешных платежа в день.

- Выписки должны быть корректными и непротиворичивыми, 
исполнятся должны только те платежи, на которые хватит денег.

200 клиентов х 31 день х 1,5 = 9300,

Учитывая, что часть платежей уйдет в другие банки, а часть не исполнится я выбрал 10000

  Для исполнения платежных поручений были написаны 2 скрипта,
один - для исполнения одного поручения,
второй для того, чтобы последовательно пройти первым все сгенерированные платежи.

  Добиться нужного колличества успешных оплат удалось за 2 итерации
На первой итерации платежи были сгенерированны случайно.
Перед началом второй итерации неисполнившиеся платежи были скорректированы
так, чтобы наиболее крупные из них пришлись на отправителей с большими остатками,
суммы платежей при этом уменьшались.
В процессе корректировки сами остатки на счетах не менялись, что позволило
получить непротиворечивые выписки.

  Только на этом этапе пришло понимание что создаваемая база
моделирует только один банк, а не всю банковскую систему в целом,
так что было принято решение разделить таблицы платежей на входящие и исходящие,
а таблицу счетов на клиентов и контрагентов, а также удалить лишние записи.

  После разделения все таблицы были доработаны:

- созданы индексы,
- созданы внешние и первичные ключи,
- где нужно, изменен тип столбцов.

  В заключительной части проекта были созданы представления для 4 типовых запросов:

- Клиент запрашивает свои полные реквизиты
- Клиенту нужна выписка по счету за определенный период
- Сотрудник банка проверяет, соответствуют ли выбранные тарифы тому, как клиенты пользуются счетами
- Клиент запрашивает подтверждение оплаты в формате платежного поручения

 
 

